# Club Chomp - Cloudflare Worker Configuration

name = "club-chomp-api"
main = "worker/index.ts"
compatibility_date = "2024-01-01"

# D1 Database
[[d1_databases]]
binding = "DB"
database_name = "club"
database_id = "74c30701-abcc-4f1e-aaa0-47a3c6cb7cd1"

# KV Namespace for sessions
[[kv_namespaces]]
binding = "club"
id = "c340cc8a6fad4f7296711619aad50d28"

# Environment variables (set via wrangler secret)
# VAPID_PUBLIC_KEY
# VAPID_PRIVATE_KEY
# VAPID_SUBJECT

[vars]
RECIPE_API_URL = "https://chomp-chomp-chomp.github.io/chomp/api/recipes/index.json"
APP_URL = "https://clubchomp.pages.dev"

# Development
[dev]
port = 8787
local_protocol = "http"

# Production environment
[env.production]
name = "club-chomp-api"
