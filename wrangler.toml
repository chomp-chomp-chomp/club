# Club Chomp - Cloudflare Worker Configuration

name = "club-chomp-api"
main = "worker/index.ts"
compatibility_date = "2024-01-01"

# D1 Database
[[d1_databases]]
binding = "DB"
database_name = "club-chomp-db"
database_id = "YOUR_D1_DATABASE_ID"

# KV Namespace for sessions
[[kv_namespaces]]
binding = "SESSIONS"
id = "YOUR_KV_NAMESPACE_ID"

# Environment variables (set via wrangler secret)
# VAPID_PUBLIC_KEY
# VAPID_PRIVATE_KEY
# VAPID_SUBJECT

[vars]
RECIPE_API_URL = "https://chomp-chomp-chomp.github.io/chomp/api/recipes/index.json"
APP_URL = "https://clubchomp.pages.dev"

# Development
[dev]
port = 8787
local_protocol = "http"

# Production environment
[env.production]
name = "club-chomp-api"
